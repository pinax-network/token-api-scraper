# ClickHouse Connection Settings
CLICKHOUSE_URL=http://localhost:8123
CLICKHOUSE_USERNAME=default
CLICKHOUSE_PASSWORD=
# CLICKHOUSE_DATABASE is required and has no default to prevent accidental loading into wrong DB
CLICKHOUSE_DATABASE=
# Optional: Separate database for insert operations
# CLICKHOUSE_DATABASE_INSERT - Database for insert operations (falls back to CLICKHOUSE_DATABASE if not set)
# CLICKHOUSE_DATABASE_INSERT=

# RPC Node
NODE_URL=https://tron-evm-rpc.publicnode.com

# Concurrency Settings
CONCURRENCY=10

# Retry Configuration
MAX_RETRIES=3
BASE_DELAY_MS=400
JITTER_MIN=0.7
JITTER_MAX=1.3
MAX_DELAY_MS=30000
TIMEOUT_MS=10000

# Prometheus Metrics
# Port for Prometheus metrics endpoint (default: 9090)
# Prometheus is always enabled
PROMETHEUS_PORT=9090

# Batch Insert Configuration
# Batch inserts are always enabled for better performance
# Flush interval in milliseconds (default: 1000ms = 1 second)
BATCH_INSERT_INTERVAL_MS=1000
# Maximum batch size before forcing a flush (default: 10000 rows)
BATCH_INSERT_MAX_SIZE=10000

# Auto-restart Options
# Services automatically restart after completion to run continuously
# Delay in seconds before restarting the service (default: 10)
AUTO_RESTART_DELAY=10

# Forked Blocks Service Configuration
# Database containing canonical/irreversible blocks (e.g., mainnet:blocks@v0.1.0)
# CLICKHOUSE_BLOCKS_DATABASE=
# Number of days to look back for forked blocks (default: 30)
FORKED_BLOCKS_DAYS_BACK=30

# Logging Options (optional)
# Enable verbose logging output
VERBOSE=false

# LOG_LEVEL - Minimum severity level to output (default: info)
# Levels from most to least verbose:
#   debug - Detailed debugging information (RPC calls, internal state)
#   info  - General operational messages (service start, completions)
#   warn  - Warning conditions (retries, non-fatal errors)
#   error - Error conditions only (failures, exceptions)
# Messages at or above the set level are shown. Example: "warn" shows warn + error.
LOG_LEVEL=info
